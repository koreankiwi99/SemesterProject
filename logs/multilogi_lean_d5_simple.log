Loading prompts...
✓ Loaded system prompt from prompts/multilogi/lean_system.txt
✓ Loaded user prompt from prompts/multilogi/lean_user.txt

Initializing Lean server...
✓ Lean server initialized
Loading Multi-LogiEval from: data/multi_logi_original/data
Logic types: ['fol', 'nm', 'pl']
Depths: ['d5_Data']
Sampling 110 questions per logic type × depth combination
Random seed: 42
Found 3 files in d5_Data/fol
Found 1 files in d5_Data/nm
Found 3 files in d5_Data/pl

======================================================================
Sampling questions from each combination:
======================================================================
fol/d5_Data: sampled 45 from 45 available questions
nm/d5_Data: sampled 20 from 20 available questions
pl/d5_Data: sampled 45 from 45 available questions

======================================================================
Total questions sampled: 110
======================================================================

Distribution of sampled questions:
======================================================================

fol:
  d5: 45 questions

nm:
  d5: 20 questions

pl:
  d5: 45 questions

Total questions to test: 110
Max iterations per question: 3
Interactive Lean verification: ENABLED


[1/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[2/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[3/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[4/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[5/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[6/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[7/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[8/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[9/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[10/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[11/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[12/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   3

[13/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[14/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[15/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[16/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[17/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[18/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[19/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[20/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[21/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[22/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[23/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[24/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[25/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[26/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[27/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[28/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   3

[29/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[30/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   3

[31/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[32/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[33/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[34/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[35/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[36/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[37/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[38/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[39/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[40/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[41/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[42/110] fol/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[43/110] fol/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[44/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[45/110] fol/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[46/110] nm/d5_Data - d5_1
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[47/110] nm/d5_Data - d5_1
  Ground Truth: No
  Prediction:   No
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[48/110] nm/d5_Data - d5_1
  Ground Truth: No
  Prediction:   Yes
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[49/110] nm/d5_Data - d5_1
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   3

[50/110] nm/d5_Data - d5_1
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[51/110] nm/d5_Data - d5_1
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   3

[52/110] nm/d5_Data - d5_1
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[53/110] nm/d5_Data - d5_1
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   3

[54/110] nm/d5_Data - d5_1
  Ground Truth: No
  Prediction:   No
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[55/110] nm/d5_Data - d5_1
  Ground Truth: No
  Prediction:   No
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[56/110] nm/d5_Data - d5_1
  Ground Truth: No
  Prediction:   No
  Correct:      ✓
  Iterations:   3

[57/110] nm/d5_Data - d5_1
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[58/110] nm/d5_Data - d5_1
  Ground Truth: No
  Prediction:   Yes
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[59/110] nm/d5_Data - d5_1
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   3

[60/110] nm/d5_Data - d5_1
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   3

[61/110] nm/d5_Data - d5_1
  Ground Truth: No
  Prediction:   Yes
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[62/110] nm/d5_Data - d5_1
  Ground Truth: No
  Prediction:   No
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[63/110] nm/d5_Data - d5_1
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[64/110] nm/d5_Data - d5_1
  Ground Truth: No
  Prediction:   No
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[65/110] nm/d5_Data - d5_1
  Ground Truth: No
  Prediction:   No
  Correct:      ✓
  Iterations:   3

[66/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[67/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[68/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[69/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[70/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[71/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[72/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[73/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[74/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   3

[75/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[76/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[77/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   3

[78/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[79/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[80/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[81/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[82/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[83/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[84/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[85/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[86/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[87/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[88/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[89/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[90/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[91/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[92/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[93/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[94/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[95/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[96/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[97/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[98/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[99/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[100/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[101/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[102/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   No
  Correct:      ✗
  Iterations:   1
  Lean:         ✓ Success

[103/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[104/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[105/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[106/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[107/110] pl/d5_Data - CD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[108/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[109/110] pl/d5_Data - BD_C_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

[110/110] pl/d5_Data - HS_MT_DS_MP_MP
  Ground Truth: Yes
  Prediction:   Yes
  Correct:      ✓
  Iterations:   1
  Lean:         ✓ Success

======================================================================
Results saved:
======================================================================
All results:    results/multilogieval_lean_lean_d5_20251106_180555/all_results.json
Summary:        results/multilogieval_lean_lean_d5_20251106_180555/summary.txt
Accuracy table: results/multilogieval_lean_lean_d5_20251106_180555/accuracy_table.txt
Lean stats:     results/multilogieval_lean_lean_d5_20251106_180555/lean_verification_stats.txt
Progress log:   results/multilogieval_lean_lean_d5_20251106_180555/progress.txt
Responses:      results/multilogieval_lean_lean_d5_20251106_180555/responses/
======================================================================
Traceback (most recent call last):
  File "/Users/kyuheekim/SemesterProject/src/experiments/test_multi_interact.py", line 395, in <module>
    main()
  File "/Users/kyuheekim/SemesterProject/src/experiments/test_multi_interact.py", line 379, in main
    successful_verifications = len([r for r in all_results if 'error' not in r and r.get('lean_verification', {}).get('success', False)])
  File "/Users/kyuheekim/SemesterProject/src/experiments/test_multi_interact.py", line 379, in <listcomp>
    successful_verifications = len([r for r in all_results if 'error' not in r and r.get('lean_verification', {}).get('success', False)])
AttributeError: 'NoneType' object has no attribute 'get'
