<lean>
axiom obj : Type
axiom Jane : obj
axiom KiKi : obj

axiom Animal : obj → Prop
axiom Dog : obj → Prop
axiom Barks : obj → Prop
axiom Jumps : obj → Prop
axiom HasLegs : obj → Prop
axiom Terricolous : obj → Prop
axiom Likes : obj → obj → Prop

-- Context axioms
axiom no_like_barking_animals : ∀ x : obj, Animal x ∧ Barks x → ¬Likes Jane x
axiom dog_animal : ∀ x : obj, Dog x → Animal x
axiom dog_barks : ∀ x : obj, Dog x → Barks x
axiom likes_jumpers : ∀ x : obj, Animal x ∧ Jumps x → Likes Jane x
axiom legs_to_jump : ∀ x : obj, Animal x ∧ HasLegs x → Jumps x
axiom terricolous_to_legs : ∀ x : obj, Animal x ∧ Terricolous x → HasLegs x
axiom kiki_animal : Animal KiKi
axiom special : (¬Jumps KiKi ∧ ¬HasLegs KiKi) → Terricolous KiKi ∨ HasLegs KiKi

open Classical

lemma kiki_jumps : Jumps KiKi := by
  have h_or : Jumps KiKi ∨ HasLegs KiKi := by
    by_contra hnot
    have hnj : ¬Jumps KiKi := fun hj => hnot (Or.inl hj)
    have hnl : ¬HasLegs KiKi := fun hl => hnot (Or.inr hl)
    have h := special ⟨hnj, hnl⟩
    cases h with
    | inl ht =>
        have hl : HasLegs KiKi := terricolous_to_legs KiKi ⟨kiki_animal, ht⟩
        exact hnot (Or.inr hl)
    | inr hl =>
        exact hnot (Or.inr hl)
  cases h_or with
  | inl hj => exact hj
  | inr hl =>
      exact legs_to_jump KiKi ⟨kiki_animal, hl⟩

theorem not_kiki_barking_dog : ¬(Dog KiKi ∧ Barks KiKi) := by
  intro h
  have hbark : Barks KiKi := And.right h
  have hjump : Jumps KiKi := kiki_jumps
  have hlike : Likes Jane KiKi := likes_jumpers KiKi ⟨kiki_animal, hjump⟩
  have hdislike : ¬Likes Jane KiKi := no_like_barking_animals KiKi ⟨kiki_animal, hbark⟩
  exact hdislike hlike
</lean>

ANSWER: False

======================================================================
ITERATION 2
======================================================================

<lean>
axiom obj : Type
axiom Jane : obj
axiom KiKi : obj

axiom Animal : obj → Prop
axiom Dog : obj → Prop
axiom Barks : obj → Prop
axiom Jumps : obj → Prop
axiom HasLegs : obj → Prop
axiom Terricolous : obj → Prop
axiom Likes : obj → obj → Prop

-- Context axioms
axiom no_like_barking_animals : ∀ x : obj, Animal x ∧ Barks x → ¬Likes Jane x
axiom dog_animal : ∀ x : obj, Dog x → Animal x
axiom dog_barks : ∀ x : obj, Dog x → Barks x
axiom likes_jumpers : ∀ x : obj, Animal x ∧ Jumps x → Likes Jane x
axiom legs_to_jump : ∀ x : obj, Animal x ∧ HasLegs x → Jumps x
axiom terricolous_to_legs : ∀ x : obj, Animal x ∧ Terricolous x → HasLegs x
axiom kiki_animal : Animal KiKi
axiom special : (¬Jumps KiKi ∧ ¬HasLegs KiKi) → Terricolous KiKi ∨ HasLegs KiKi

lemma kiki_jumps : Jumps KiKi := by
  have h_or : Jumps KiKi ∨ HasLegs KiKi :=
    Classical.by_contradiction (fun hnot : ¬(Jumps KiKi ∨ HasLegs KiKi) =>
      have hnj : ¬Jumps KiKi := fun hj => hnot (Or.inl hj)
      have hnl : ¬HasLegs KiKi := fun hl => hnot (Or.inr hl)
      have h := special ⟨hnj, hnl⟩
      Or.elim h
        (fun ht =>
          let hl : HasLegs KiKi := terricolous_to_legs KiKi ⟨kiki_animal, ht⟩
          show False from hnot (Or.inr hl))
        (fun hl => hnot (Or.inr hl)))
  exact Or.elim h_or
    (fun hj => hj)
    (fun hl => legs_to_jump KiKi ⟨kiki_animal, hl⟩)

theorem not_kiki_barking_dog : ¬(Dog KiKi ∧ Barks KiKi) := by
  intro h
  have hbark : Barks KiKi := And.right h
  have hjump : Jumps KiKi := kiki_jumps
  have hlike : Likes Jane KiKi := likes_jumpers KiKi ⟨kiki_animal, hjump⟩
  have hdislike : ¬Likes Jane KiKi := no_like_barking_animals KiKi ⟨kiki_animal, hbark⟩
  exact hdislike hlike
</lean>

ANSWER: False

======================================================================
ITERATION 3
======================================================================

<lean>
axiom obj : Type
axiom Jane : obj
axiom KiKi : obj

axiom Animal : obj → Prop
axiom Dog : obj → Prop
axiom Barks : obj → Prop
axiom Jumps : obj → Prop
axiom HasLegs : obj → Prop
axiom Terricolous : obj → Prop
axiom Likes : obj → obj → Prop

-- Context axioms
axiom no_like_barking_animals : ∀ x : obj, Animal x ∧ Barks x → ¬Likes Jane x
axiom dog_animal : ∀ x : obj, Dog x → Animal x
axiom dog_barks : ∀ x : obj, Dog x → Barks x
axiom likes_jumpers : ∀ x : obj, Animal x ∧ Jumps x → Likes Jane x
axiom legs_to_jump : ∀ x : obj, Animal x ∧ HasLegs x → Jumps x
axiom terricolous_to_legs : ∀ x : obj, Animal x ∧ Terricolous x → HasLegs x
axiom kiki_animal : Animal KiKi
axiom special : (¬Jumps KiKi ∧ ¬HasLegs KiKi) → Terricolous KiKi ∨ HasLegs KiKi

open Classical

theorem not_kiki_barking_dog : ¬(Dog KiKi ∧ Barks KiKi) := by
  intro h
  have hbark : Barks KiKi := And.right h
  -- Show KiKi jumps
  have hjump : Jumps KiKi := by
    -- First obtain Jumps KiKi ∨ HasLegs KiKi
    have h_or : Jumps KiKi ∨ HasLegs KiKi := by
      by_contra hnot
      have hnj : ¬Jumps KiKi := fun hj => hnot (Or.inl hj)
      have hnl : ¬HasLegs KiKi := fun hl => hnot (Or.inr hl)
      have hs := special ⟨hnj, hnl⟩
      cases hs with
      | inl ht =>
          have hl : HasLegs KiKi := terricolous_to_legs KiKi ⟨kiki_animal, ht⟩
          exact hnot (Or.inr hl)
      | inr hl =>
          exact hnot (Or.inr hl)
    -- From HasLegs, KiKi jumps; otherwise already jumps
    cases h_or with
    | inl hj => exact hj
    | inr hl =>
        exact legs_to_jump KiKi ⟨kiki_animal, hl⟩
  -- Jane both likes and does not like KiKi, contradiction
  have hlike : Likes Jane KiKi := likes_jumpers KiKi ⟨kiki_animal, hjump⟩
  have hdislike : ¬Likes Jane KiKi := no_like_barking_animals KiKi ⟨kiki_animal, hbark⟩
  exact hdislike hlike
</lean>

ANSWER: False
