Story ID: 467
Example ID: 1349
Premises: All of Peter's pets that are mammals are also animals.
All monkeys are mammals. 
Peter's pets are all either monkeys or birds. 
Peter's birds can fly.
All animals that are Peter's pets can breathe.
If Peter's pet can fly, then it has wings.
Rock is Peter's pet.
Rock can fly, or Rock is a bird, or Rock cannot breathe. 
Conclusion: Rock has wings.

==================================================
Iteration 1
==================================================
<lean>
axiom Entity : Type

axiom Pet : Entity → Prop
axiom Mammal : Entity → Prop
axiom Animal : Entity → Prop
axiom Monkey : Entity → Prop
axiom Bird : Entity → Prop
axiom CanFly : Entity → Prop
axiom CanBreathe : Entity → Prop
axiom HasWings : Entity → Prop

axiom Rock : Entity

-- All of Peter's pets that are mammals are also animals.
axiom ax1 : ∀ x : Entity, Pet x ∧ Mammal x → Animal x
-- All monkeys are mammals.
axiom ax2 : ∀ x : Entity, Monkey x → Mammal x
-- Peter's pets are all either monkeys or birds.
axiom ax3 : ∀ x : Entity, Pet x → (Monkey x ∨ Bird x)
-- Peter's birds can fly.
axiom ax4 : ∀ x : Entity, Pet x ∧ Bird x → CanFly x
-- All animals that are Peter's pets can breathe.
axiom ax5 : ∀ x : Entity, Animal x ∧ Pet x → CanBreathe x
-- If Peter's pet can fly, then it has wings.
axiom ax6 : ∀ x : Entity, Pet x ∧ CanFly x → HasWings x
-- Rock is Peter's pet.
axiom ax7 : Pet Rock
-- Rock can fly, or Rock is a bird, or Rock cannot breathe.
axiom ax8 : CanFly Rock ∨ Bird Rock ∨ ¬ CanBreathe Rock

theorem goal : HasWings Rock := by
  have hPet : Pet Rock := ax7
  have h := ax8
  cases h with
  | inl hFly =>
      exact ax6 Rock ⟨hPet, hFly⟩
  | inr h2 =>
      cases h2 with
      | inl hBird =>
          have hFly : CanFly Rock := ax4 Rock ⟨hPet, hBird⟩
          exact ax6 Rock ⟨hPet, hFly⟩
      | inr hNotBreathe =>
          have hMB : Monkey Rock ∨ Bird Rock := ax3 Rock hPet
          cases hMB with
          | inl hMonkey =>
              have hMammal : Mammal Rock := ax2 Rock hMonkey
              have hAnimal : Animal Rock := ax1 Rock ⟨hPet, hMammal⟩
              have hBreathe : CanBreathe Rock := ax5 Rock ⟨hAnimal, hPet⟩
              exact False.elim (hNotBreathe hBreathe)
          | inr hBird2 =>
              have hFly : CanFly Rock := ax4 Rock ⟨hPet, hBird2⟩
              exact ax6 Rock ⟨hPet, hFly⟩
</lean>
ANSWER: True

--- Lean Code ---
axiom Entity : Type

axiom Pet : Entity → Prop
axiom Mammal : Entity → Prop
axiom Animal : Entity → Prop
axiom Monkey : Entity → Prop
axiom Bird : Entity → Prop
axiom CanFly : Entity → Prop
axiom CanBreathe : Entity → Prop
axiom HasWings : Entity → Prop

axiom Rock : Entity

-- All of Peter's pets that are mammals are also animals.
axiom ax1 : ∀ x : Entity, Pet x ∧ Mammal x → Animal x
-- All monkeys are mammals.
axiom ax2 : ∀ x : Entity, Monkey x → Mammal x
-- Peter's pets are all either monkeys or birds.
axiom ax3 : ∀ x : Entity, Pet x → (Monkey x ∨ Bird x)
-- Peter's birds can fly.
axiom ax4 : ∀ x : Entity, Pet x ∧ Bird x → CanFly x
-- All animals that are Peter's pets can breathe.
axiom ax5 : ∀ x : Entity, Animal x ∧ Pet x → CanBreathe x
-- If Peter's pet can fly, then it has wings.
axiom ax6 : ∀ x : Entity, Pet x ∧ CanFly x → HasWings x
-- Rock is Peter's pet.
axiom ax7 : Pet Rock
-- Rock can fly, or Rock is a bird, or Rock cannot breathe.
axiom ax8 : CanFly Rock ∨ Bird Rock ∨ ¬ CanBreathe Rock

theorem goal : HasWings Rock := by
  have hPet : Pet Rock := ax7
  have h := ax8
  cases h with
  | inl hFly =>
      exact ax6 Rock ⟨hPet, hFly⟩
  | inr h2 =>
      cases h2 with
      | inl hBird =>
          have hFly : CanFly Rock := ax4 Rock ⟨hPet, hBird⟩
          exact ax6 Rock ⟨hPet, hFly⟩
      | inr hNotBreathe =>
          have hMB : Monkey Rock ∨ Bird Rock := ax3 Rock hPet
          cases hMB with
          | inl hMonkey =>
              have hMammal : Mammal Rock := ax2 Rock hMonkey
              have hAnimal : Animal Rock := ax1 Rock ⟨hPet, hMammal⟩
              have hBreathe : CanBreathe Rock := ax5 Rock ⟨hAnimal, hPet⟩
              exact False.elim (hNotBreathe hBreathe)
          | inr hBird2 =>
              have hFly : CanFly Rock := ax4 Rock ⟨hPet, hBird2⟩
              exact ax6 Rock ⟨hPet, hFly⟩

--- Lean Verification ---
Success: True

==================================================
Final Result:
==================================================
Ground Truth: True
Prediction: True
Correct: Yes
Total Iterations: 1
