<lean>
axiom obj : Type
axiom Alex : obj
axiom StudiedHard : obj → Prop
axiom GoodGrades : obj → Prop
axiom Participated : obj → Prop
axiom MadeNewFriends : obj → Prop
axiom Invited : obj → Prop

-- If studied hard, then good grades
axiom A1 : ∀ x, StudiedHard x → GoodGrades x
-- If participated, then made new friends
axiom A2 : ∀ x, Participated x → MadeNewFriends x
-- Either studied hard or participated
axiom A3 : ∀ x, StudiedHard x ∨ Participated x
-- If made new friends, then invited
axiom A4 : ∀ x, MadeNewFriends x → Invited x

-- Given that Alex did not get good grades
axiom given : ¬GoodGrades Alex

theorem alex_invited : Invited Alex := by
  -- Since ¬GoodGrades Alex, by contrapositive of A1, ¬StudiedHard Alex
  have no_study : ¬StudiedHard Alex := by
    intro h_study
    have : GoodGrades Alex := A1 Alex h_study
    contradiction
  -- By A3, Alex must have participated
  have h_participated : Participated Alex := by
    cases A3 Alex with
    | inl study => contradiction
    | inr part => exact part
  -- By A2, Alex made new friends
  have h_friends : MadeNewFriends Alex := A2 Alex h_participated
  -- By A4, Alex gets invited
  exact A4 Alex h_friends
</lean>

ANSWER: Yes

======================================================================
ITERATION 2
======================================================================

The error occurred because the `contradiction` tactic failed to automatically detect the contradiction between `GoodGrades Alex` and `¬GoodGrades Alex`. The proof has been fixed by explicitly applying the contradiction using `exact given (A1 Alex h_study)` in the first case and using `absurd` in the second case.

Here's the corrected Lean code:

<lean>
axiom obj : Type
axiom Alex : obj
axiom StudiedHard : obj → Prop
axiom GoodGrades : obj → Prop
axiom Participated : obj → Prop
axiom MadeNewFriends : obj → Prop
axiom Invited : obj → Prop

axiom A1 : ∀ x, StudiedHard x → GoodGrades x
axiom A2 : ∀ x, Participated x → MadeNewFriends x
axiom A3 : ∀ x, StudiedHard x ∨ Participated x
axiom A4 : ∀ x, MadeNewFriends x → Invited x

axiom given : ¬GoodGrades Alex

theorem alex_invited : Invited Alex := by
  have no_study : ¬StudiedHard Alex := by
    intro h_study
    exact given (A1 Alex h_study)
  
  have h_participated : Participated Alex := by
    cases A3 Alex with
    | inl study => exact absurd study no_study
    | inr part => exact part
  
  have h_friends : MadeNewFriends Alex := A2 Alex h_participated
  exact A4 Alex h_friends
</lean>

ANSWER: Yes
