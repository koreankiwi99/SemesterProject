<lean>
axiom Party : Type
axiom SamParty : Party

axiom EnoughFood : Party → Prop
axiom Cake : Party → Prop
axiom IceCream : Party → Prop
axiom DishBrought : Party → Prop
axiom Birthday : Party → Prop

-- If someone brought a dish to share at a party, there will be enough food for everyone.
axiom P1 : ∀ p : Party, DishBrought p → EnoughFood p
-- If it is a birthday party, there will be cake and ice cream.
axiom P2 : ∀ p : Party, Birthday p → (Cake p ∧ IceCream p)
-- Either someone brought a dish to share, or there was no birthday cake (for Sam's party).
axiom P3 : DishBrought SamParty ∨ ¬Cake SamParty
-- It is Sam's birthday party.
axiom T1 : Birthday SamParty

theorem cake_sam : Cake SamParty := by
  have h := P2 SamParty T1
  exact h.left

theorem dish_brought_sam : DishBrought SamParty := by
  cases P3 with
  | inl h => exact h
  | inr hncake =>
    have hcake : Cake SamParty := cake_sam
    exact False.elim (hncake hcake)

theorem enough_food_sam : EnoughFood SamParty := by
  apply P1 SamParty
  exact dish_brought_sam
</lean>

ANSWER: Failure
