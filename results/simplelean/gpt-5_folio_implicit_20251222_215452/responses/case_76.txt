<lean>
universe u

constant Person : Type u

-- Predicates
constant AtMS : Person → Prop
constant WorksOnCampus : Person → Prop
constant NeedsMoney : Person → Prop
constant OrdersTakeout : Person → Prop
constant EnjoysDiningHall : Person → Prop
constant NotPicky : Person → Prop
constant SpendsTimeDiningHalls : Person → Prop

-- Axioms from the textual context
constant A1 : ∀ x : Person, AtMS x → (WorksOnCampus x → NeedsMoney x)
constant A2 : ∀ x : Person, AtMS x → (OrdersTakeout x → WorksOnCampus x)
constant A3 : ∀ x : Person, AtMS x → (OrdersTakeout x ∨ EnjoysDiningHall x)
constant A4 : ∀ x : Person, AtMS x → (EnjoysDiningHall x → NotPicky x)
constant A5 : ∀ x : Person, AtMS x → (EnjoysDiningHall x → SpendsTimeDiningHalls x)

-- Hannah-specific facts
constant Hannah : Person
constant AtMS_Hannah : AtMS Hannah
constant Works_Hannah : WorksOnCampus Hannah
constant Hannah_cond : NeedsMoney Hannah → (NotPicky Hannah ∧ ¬ NeedsMoney Hannah)

-- Goal: Hannah is at Mary's school and she is not a picky eater and spends a lot of time in the dining halls
theorem query :
  AtMS Hannah ∧ NotPicky Hannah ∧ SpendsTimeDiningHalls Hannah := by
  have hNeed : NeedsMoney Hannah := A1 Hannah AtMS_Hannah Works_Hannah
  have hNP_and_notNeed : NotPicky Hannah ∧ ¬ NeedsMoney Hannah := Hannah_cond hNeed
  have hNP : NotPicky Hannah := hNP_and_notNeed.left
  have hFalse : False := hNP_and_notNeed.right hNeed
  have hSpend : SpendsTimeDiningHalls Hannah := False.elim hFalse
  exact And.intro AtMS_Hannah (And.intro hNP hSpend)
</lean>
ANSWER: True

======================================================================
ITERATION 2
======================================================================

<lean>
constant Person : Type

-- Predicates
constant AtMS : Person → Prop
constant WorksOnCampus : Person → Prop
constant NeedsMoney : Person → Prop
constant OrdersTakeout : Person → Prop
constant EnjoysDiningHall : Person → Prop
constant NotPicky : Person → Prop
constant SpendsTimeDiningHalls : Person → Prop

-- Axioms from the textual context
axiom A1 : ∀ x : Person, AtMS x → WorksOnCampus x → NeedsMoney x
axiom A2 : ∀ x : Person, AtMS x → OrdersTakeout x → WorksOnCampus x
axiom A3 : ∀ x : Person, AtMS x → (OrdersTakeout x ∨ EnjoysDiningHall x)
axiom A4 : ∀ x : Person, AtMS x → EnjoysDiningHall x → NotPicky x
axiom A5 : ∀ x : Person, AtMS x → EnjoysDiningHall x → SpendsTimeDiningHalls x

-- Hannah-specific facts
constant Hannah : Person
constant AtMS_Hannah : AtMS Hannah
constant Works_Hannah : WorksOnCampus Hannah
constant Hannah_cond : NeedsMoney Hannah → (NotPicky Hannah ∧ ¬ NeedsMoney Hannah)

-- Goal: Hannah is at Mary's school and she is not a picky eater and spends a lot of time in the dining halls
theorem query :
  AtMS Hannah ∧ NotPicky Hannah ∧ SpendsTimeDiningHalls Hannah := by
  have hNeed : NeedsMoney Hannah := A1 Hannah AtMS_Hannah Works_Hannah
  have hNP_and_notNeed : NotPicky Hannah ∧ ¬ NeedsMoney Hannah := Hannah_cond hNeed
  have hNP : NotPicky Hannah := hNP_and_notNeed.left
  have hFalse : False := hNP_and_notNeed.right hNeed
  have hSpend : SpendsTimeDiningHalls Hannah := False.elim hFalse
  exact And.intro AtMS_Hannah (And.intro hNP hSpend)
</lean>
ANSWER: True

======================================================================
ITERATION 3
======================================================================

<lean>
namespace Reasoning

constant Person : Type

-- Predicates
constant AtMS : Person → Prop
constant WorksOnCampus : Person → Prop
constant NeedsMoney : Person → Prop
constant OrdersTakeout : Person → Prop
constant EnjoysDiningHall : Person → Prop
constant NotPicky : Person → Prop
constant SpendsTimeDiningHalls : Person → Prop

-- Axioms from the textual context
axiom A1 : ∀ x : Person, AtMS x → WorksOnCampus x → NeedsMoney x
axiom A2 : ∀ x : Person, AtMS x → OrdersTakeout x → WorksOnCampus x
axiom A3 : ∀ x : Person, AtMS x → (OrdersTakeout x ∨ EnjoysDiningHall x)
axiom A4 : ∀ x : Person, AtMS x → EnjoysDiningHall x → NotPicky x
axiom A5 : ∀ x : Person, AtMS x → EnjoysDiningHall x → SpendsTimeDiningHalls x

-- Hannah-specific facts
constant Hannah : Person
constant AtMS_Hannah : AtMS Hannah
constant Works_Hannah : WorksOnCampus Hannah
constant Hannah_cond : NeedsMoney Hannah → (NotPicky Hannah ∧ Not (NeedsMoney Hannah))

-- Goal: Hannah is at Mary's school and she is not a picky eater and spends a lot of time in the dining halls
theorem query :
  AtMS Hannah ∧ NotPicky Hannah ∧ SpendsTimeDiningHalls Hannah := by
  have hNeed : NeedsMoney Hannah := A1 Hannah AtMS_Hannah Works_Hannah
  have hNP_and_notNeed : NotPicky Hannah ∧ Not (NeedsMoney Hannah) := Hannah_cond hNeed
  have hNP : NotPicky Hannah := hNP_and_notNeed.left
  have hFalse : False := hNP_and_notNeed.right hNeed
  exact And.intro AtMS_Hannah (And.intro hNP (False.elim hFalse))

end Reasoning
</lean>
ANSWER: True
